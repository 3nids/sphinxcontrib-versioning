




<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-82627369-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HTML Context API &mdash; sphinxcontrib-versioning</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/banner.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  

  
    <link rel="top" title="sphinxcontrib-versioning" href="index.html"/>
        <link rel="next" title="Supported Themes" href="themes.html"/>
        <link rel="prev" title="Settings" href="settings.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> sphinxcontrib-versioning
          

          
          </a>

          
            
            
              <div class="version">
                2.1.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">General</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="banner.html">Banner Message</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">HTML Context API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#versions-iterable">Versions Iterable</a></li>
<li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#banner-variables">Banner Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-variables">Other Variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="themes.html">Supported Themes</a></li>
</ul>
<p class="caption"><span class="caption-text">Web Hosting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="github_pages.html">GitHub Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="nfsn.html">NearlyFreeSpeech.NET</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">sphinxcontrib-versioning</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 







<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>HTML Context API</li>
    <li class="wy-breadcrumbs-aside">
      
          
          
            <a href="https://github.com/Robpol86/sphinxcontrib-versioning/blob/docsv_in_docs/docs/context.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  


    
    



    <p class="scv-banner scv-sphinx_rtd_theme"><a href="../v2.1.4/context.html"><b>Warning:</b> This document is for the development version of sphinxcontrib-versioning. The latest version is v2.1.4.</a></p>
<div class="section" id="html-context-api">
<span id="context"></span><h1>HTML Context API<a class="headerlink" href="#html-context-api" title="Permalink to this headline">¶</a></h1>
<p>The following <a class="reference external" href="http://jinja.pocoo.org/">Jinja2</a> context variables are exposed in <a class="reference external" href="http://www.sphinx-doc.org/en/stable/config.html?highlight=context#confval-html_context">the Sphinx HTML builder context</a> in all
versions.</p>
<div class="section" id="versions-iterable">
<h2>Versions Iterable<a class="headerlink" href="#versions-iterable" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">versions</span></code> is the main variable of interest. It yields names of other (and the current) versions and relative URLs to
them. You can iterate on it to get all branches and tags, or use special properties attached to it to yield just
branches or just tags.</p>
<dl class="attribute">
<dt id="versions">
<code class="descname">versions</code><a class="headerlink" href="#versions" title="Permalink to this definition">¶</a></dt>
<dd><p>An iterable that yields 2-item tuples of strings. The first item is the version (branch/tag) name while the second
item is the relative path to the documentation for that version. The path is URL safe and takes into account HTML
pages in sub directories.</p>
<div class="highlight-jinja"><div class="highlight"><pre><span></span><span class="cp">{%</span>- <span class="k">for</span> <span class="nv">name</span><span class="o">,</span> <span class="nv">url</span> <span class="k">in</span> <span class="nv">versions</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;li&gt;&lt;a href=&quot;</span><span class="cp">{{</span> <span class="nv">url</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;&lt;/li&gt;</span>
<span class="cp">{%</span>- <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="versions.branches">
<code class="descclassname">versions.</code><code class="descname">branches</code><a class="headerlink" href="#versions.branches" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">versions</span></code> iterable has a <strong>branches</strong> property that itself yields versions in branches (filtering out git
tags). The order is the same and it yields the same tuples.</p>
<div class="highlight-jinja"><div class="highlight"><pre><span></span><span class="x">&lt;dl&gt;</span>
<span class="x">    &lt;dt&gt;Branches&lt;/dt&gt;</span>
<span class="x">    </span><span class="cp">{%</span>- <span class="k">for</span> <span class="nv">name</span><span class="o">,</span> <span class="nv">url</span> <span class="k">in</span> <span class="nv">versions.branches</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;dd&gt;&lt;a href=&quot;</span><span class="cp">{{</span> <span class="nv">url</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;&lt;/dd&gt;</span>
<span class="x">    </span><span class="cp">{%</span>- <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/dl&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="versions.tags">
<code class="descclassname">versions.</code><code class="descname">tags</code><a class="headerlink" href="#versions.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">versions</span></code> iterable also has a <strong>tags</strong> property that itself yields versions in tags (filtering out git
branches). Just as the <strong>branches</strong> property the order is maintained and the yielded tuples are the same.</p>
<div class="highlight-jinja"><div class="highlight"><pre><span></span><span class="x">&lt;dl&gt;</span>
<span class="x">    &lt;dt&gt;Tags&lt;/dt&gt;</span>
<span class="x">    </span><span class="cp">{%</span>- <span class="k">for</span> <span class="nv">name</span><span class="o">,</span> <span class="nv">url</span> <span class="k">in</span> <span class="nv">versions.tags</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;dd&gt;&lt;a href=&quot;</span><span class="cp">{{</span> <span class="nv">url</span> <span class="cp">}}</span><span class="x">&quot;&gt;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;&lt;/dd&gt;</span>
<span class="x">    </span><span class="cp">{%</span>- <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;/dl&gt;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="vhasdoc">
<code class="descname">vhasdoc</code><span class="sig-paren">(</span><em>other_version</em><span class="sig-paren">)</span><a class="headerlink" href="#vhasdoc" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to Sphinx&#8217;s <a class="reference external" href="http://www.sphinx-doc.org/en/stable/templating.html#hasdoc">hasdoc()</a> function. Returns True if the current document exists in another
version.</p>
<div class="highlight-jinja"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">vhasdoc</span><span class="o">(</span><span class="s1">&#39;master&#39;</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    This doc is available in &lt;a href=&quot;../master/index.html&quot;&gt;master&lt;/a&gt;.</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="vpathto">
<code class="descname">vpathto</code><span class="sig-paren">(</span><em>other_version</em><span class="sig-paren">)</span><a class="headerlink" href="#vpathto" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to Sphinx&#8217;s <a class="reference external" href="http://www.sphinx-doc.org/en/stable/templating.html#pathto">pathto()</a> function. Has two behaviors:</p>
<ol class="arabic simple">
<li>If the current document exists in the specified other version pathto() returns the relative URL to that document.</li>
<li>If the current document does not exist in the other version the relative URL to that version&#8217;s
<a class="reference external" href="http://www.sphinx-doc.org/en/stable/config.html#confval-master_doc">master_doc</a> is returned instead.</li>
</ol>
<div class="highlight-jinja"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">vhasdoc</span><span class="o">(</span><span class="s1">&#39;master&#39;</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    This doc is available in &lt;a href=&quot;</span><span class="cp">{{</span> <span class="nv">vpathto</span><span class="o">(</span><span class="s1">&#39;master&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot;&gt;master&lt;/a&gt;.</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    Go to &lt;a href=&quot;</span><span class="cp">{{</span> <span class="nv">vpathto</span><span class="o">(</span><span class="s1">&#39;master&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot;&gt;master&lt;/a&gt; for the latest docs.</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="banner-variables">
<h2>Banner Variables<a class="headerlink" href="#banner-variables" title="Permalink to this headline">¶</a></h2>
<p>These variables are exposed in the Jinja2 context to facilitate displaying the banner message and deciding which message
to display.</p>
<dl class="attribute">
<dt id="scv_banner_greatest_tag">
<code class="descname">scv_banner_greatest_tag</code><a class="headerlink" href="#scv_banner_greatest_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean set to True if <a class="reference internal" href="settings.html#cmdoption--banner-greatest-tag"><code class="xref std std-option docutils literal"><span class="pre">--banner-greatest-tag</span></code></a> is used.</p>
</dd></dl>

<dl class="attribute">
<dt id="scv_banner_main_ref_is_branch">
<code class="descname">scv_banner_main_ref_is_branch</code><a class="headerlink" href="#scv_banner_main_ref_is_branch" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean set to True if the banner main ref is a branch.</p>
</dd></dl>

<dl class="attribute">
<dt id="scv_banner_main_ref_is_tag">
<code class="descname">scv_banner_main_ref_is_tag</code><a class="headerlink" href="#scv_banner_main_ref_is_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean set to True if the banner main ref is a tag.</p>
</dd></dl>

<dl class="attribute">
<dt id="scv_banner_main_version">
<code class="descname">scv_banner_main_version</code><a class="headerlink" href="#scv_banner_main_version" title="Permalink to this definition">¶</a></dt>
<dd><p>A string, the value of <a class="reference internal" href="settings.html#cmdoption--banner-main-ref"><code class="xref std std-option docutils literal"><span class="pre">--banner-main-ref</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="scv_banner_recent_tag">
<code class="descname">scv_banner_recent_tag</code><a class="headerlink" href="#scv_banner_recent_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean set to True if <a class="reference internal" href="settings.html#cmdoption--banner-recent-tag"><code class="xref std std-option docutils literal"><span class="pre">--banner-recent-tag</span></code></a> is used.</p>
</dd></dl>

<dl class="attribute">
<dt id="scv_show_banner">
<code class="descname">scv_show_banner</code><a class="headerlink" href="#scv_show_banner" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean set to True if <a class="reference internal" href="settings.html#cmdoption--show-banner"><code class="xref std std-option docutils literal"><span class="pre">--show-banner</span></code></a> is used.</p>
</dd></dl>

</div>
<div class="section" id="other-variables">
<h2>Other Variables<a class="headerlink" href="#other-variables" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="current_version">
<code class="descname">current_version</code><a class="headerlink" href="#current_version" title="Permalink to this definition">¶</a></dt>
<dd><p>A string of the current version being built. This will be the git ref name (e.g. a branch name or tag name).</p>
<div class="highlight-jinja"><div class="highlight"><pre><span></span><span class="x">&lt;h3&gt;Current Version: </span><span class="cp">{{</span> <span class="nv">current_version</span> <span class="cp">}}</span><span class="x">&lt;/h3&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="scv_is_branch">
<code class="descname">scv_is_branch</code><a class="headerlink" href="#scv_is_branch" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean set to True if the current version being built is from a git branch.</p>
</dd></dl>

<dl class="attribute">
<dt id="scv_is_greatest_tag">
<code class="descname">scv_is_greatest_tag</code><a class="headerlink" href="#scv_is_greatest_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean set to True if the current version being built is:</p>
<ul class="simple">
<li>From a git tag.</li>
<li>A valid semver-formatted name (e.g. v1.2.3).</li>
<li>The highest version number.</li>
</ul>
</dd></dl>

<dl class="attribute">
<dt id="scv_is_recent_branch">
<code class="descname">scv_is_recent_branch</code><a class="headerlink" href="#scv_is_recent_branch" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean set to True if the current version being built is a git branch and is the most recent commit out of just
git branches.</p>
</dd></dl>

<dl class="attribute">
<dt id="scv_is_recent_ref">
<code class="descname">scv_is_recent_ref</code><a class="headerlink" href="#scv_is_recent_ref" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean set to True if the current version being built is the most recent git commit (branch or tag).</p>
</dd></dl>

<dl class="attribute">
<dt id="scv_is_recent_tag">
<code class="descname">scv_is_recent_tag</code><a class="headerlink" href="#scv_is_recent_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean set to True if the current version being built is a git tag and is the most recent commit out of just git
tags.</p>
</dd></dl>

<dl class="attribute">
<dt id="scv_is_root">
<code class="descname">scv_is_root</code><a class="headerlink" href="#scv_is_root" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean set to True if the current version being built is in the web root (defined by <a class="reference internal" href="settings.html#cmdoption--root-ref"><code class="xref std std-option docutils literal"><span class="pre">--root-ref</span></code></a>).</p>
</dd></dl>

<dl class="attribute">
<dt id="scv_is_tag">
<code class="descname">scv_is_tag</code><a class="headerlink" href="#scv_is_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean set to True if the current version being built is from a git tag.</p>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="themes.html" class="btn btn-neutral float-right" title="Supported Themes" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="settings.html" class="btn btn-neutral" title="Settings" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, @Robpol86.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: docsv_in_docs
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../v2.1.4/context.html">v2.1.4</a></dd>
            <dd><a href="../v2.1.3/context.html">v2.1.3</a></dd>
            <dd><a href="../v2.1.2/context.html">v2.1.2</a></dd>
            <dd><a href="../v2.1.1/context.html">v2.1.1</a></dd>
            <dd><a href="../v2.1.0/context.html">v2.1.0</a></dd>
            <dd><a href="../v2.0.0/index.html">v2.0.0</a></dd>
            <dd><a href="../v1.1.0/index.html">v1.1.0</a></dd>
            <dd><a href="../v1.0.1/index.html">v1.0.1</a></dd>
            <dd><a href="../v1.0.0/index.html">v1.0.0</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="context.html">docsv_in_docs</a></dd>
            <dd><a href="../master/context.html">master</a></dd>
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.1.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>