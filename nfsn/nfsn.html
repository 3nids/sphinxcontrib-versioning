


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-82627369-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>NearlyFreeSpeech.NET &mdash; sphinxcontrib-versioning</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/banner.css" type="text/css" />
  

  
    <link rel="top" title="sphinxcontrib-versioning" href="index.html"/>
        <link rel="next" title="Changelog" href="changelog.html"/>
        <link rel="prev" title="GitHub Pages" href="github_pages.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> sphinxcontrib-versioning
          

          
          </a>

          
            
            
              <div class="version">
                2.1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="banner.html">Banner Message</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="context.html">HTML Context API</a></li>
<li class="toctree-l1"><a class="reference internal" href="themes.html">Supported Themes</a></li>
</ul>
<p class="caption"><span class="caption-text">Web Hosting</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="github_pages.html">GitHub Pages</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">NearlyFreeSpeech.NET</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#running-in-ci">Running in CI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-an-nfsn-site">Create an NFSN Site</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pushing-from-ci-to-nfsn">Pushing From CI to NFSN</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-rsync">Using Rsync</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-git-bare-repo">Using Git Bare Repo</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">sphinxcontrib-versioning</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 







<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>NearlyFreeSpeech.NET</li>
    <li class="wy-breadcrumbs-aside">
      
          
          
            <a href="https://github.com/Robpol86/sphinxcontrib-versioning/blob/nfsn/docs/nfsn.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  


    
    



    <p class="scv-banner scv-sphinx_rtd_theme"><b>Warning:</b> This document is for the development version of sphinxcontrib-versioning.</p>

  <div class="section" id="nearlyfreespeech-net">
<span id="nfsn"></span><h1>NearlyFreeSpeech.NET<a class="headerlink" href="#nearlyfreespeech-net" title="Permalink to this headline">¶</a></h1>
<p>This guide will go over how to host your built documentation on <a class="reference external" href="https://www.nearlyfreespeech.net/">NFSN</a>. We&#8217;ll be
using GitHub and Travis CI to actually build the docs and push them to NFSN but any other providers can be substituted.</p>
<p>Since NFSN pricing structure is usage-based, it&#8217;s probably a bad idea to host the entire git history of your built docs
like the GitHub Pages guide. For this reason this guide will cover two solutions, giving you the choice of hosting just
the built docs with the help of <code class="docutils literal"><span class="pre">rsync</span></code> or hosting the entire git history (for just the built docs, not the RST file
sources) using <code class="docutils literal"><span class="pre">git</span> <span class="pre">init</span> <span class="pre">--bare</span></code>.</p>
<p>Before starting be sure to go through the <a class="reference internal" href="tutorial.html#tutorial"><span class="std std-ref">Tutorial</span></a> first to make sure you can build your docs locally. If you&#8217;re
going with the <code class="docutils literal"><span class="pre">rsync</span></code> route you can stop after the <a class="reference internal" href="tutorial.html#build-all-versions"><span class="std std-ref">Build All Versions</span></a> section. Otherwise you should go through
the <a class="reference internal" href="tutorial.html#push-all-versions"><span class="std std-ref">Push All Versions</span></a> section as well.</p>
<p>This guide assumes:</p>
<ol class="arabic simple">
<li>You already have documentation in your master branch and SCVersioning builds it locally. If not you&#8217;ll need to use
the <a class="reference internal" href="settings.html#cmdoption--root-ref"><code class="xref std std-option docutils literal"><span class="pre">--root-ref</span></code></a> argument.</li>
<li>You already have your CI configured and running on your repo.</li>
<li>You already have an account on NFSN.</li>
</ol>
<div class="section" id="running-in-ci">
<h2>Running in CI<a class="headerlink" href="#running-in-ci" title="Permalink to this headline">¶</a></h2>
<p>Before touching NFSN let&#8217;s setup the CI to run SCVersioning. Edit your CI configuration file (e.g.
<a class="reference external" href="https://docs.travis-ci.com/user/customizing-the-build/">.travis.yml</a>) with:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">install</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">pip install sphinxcontrib-versioning</span>
<span class="l l-Scalar l-Scalar-Plain">after_success</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">sphinx-versioning build docs docs/_build/html</span>
</pre></div>
</div>
<p>Commit your changes to the CI config file and push. You should see documentation building successfully.</p>
</div>
<div class="section" id="create-an-nfsn-site">
<h2>Create an NFSN Site<a class="headerlink" href="#create-an-nfsn-site" title="Permalink to this headline">¶</a></h2>
<p>First we&#8217;ll create a static site on NFSN. Even if you&#8217;ve been using NFSN it&#8217;s a good idea to try this out in a dedicated
and disposable site to avoid breaking anything important.</p>
<ol class="arabic simple">
<li>Go to the <strong>sites</strong> tab in the member portal and click <strong>Create a New Site</strong>. This guide will use <strong>scversioning</strong> as
the new site&#8217;s short name.</li>
<li>Since this is all just static HTML files you won&#8217;t need PHP/MySQL/etc. Select the &#8220;Static Content&#8221; server type.</li>
<li>You should be able to visit <cite>http://scversioning.nfshost.com/</cite> and get an HTTP 403 error.</li>
<li>SSH into your new site.</li>
</ol>
</div>
<div class="section" id="pushing-from-ci-to-nfsn">
<h2>Pushing From CI to NFSN<a class="headerlink" href="#pushing-from-ci-to-nfsn" title="Permalink to this headline">¶</a></h2>
<p>This is the moment of truth. You need to decice if you want to just rsync HTML files from Travis CI to NFSN or add NFSN
as a git remote, have SCVersioning push to NFSN, and let a git hook on NFSN move HTML files to the web root.</p>
<div class="section" id="using-rsync">
<h3>Using Rsync<a class="headerlink" href="#using-rsync" title="Permalink to this headline">¶</a></h3>
<p>This is simpler and costs less (though probably not by much since NFSN is pretty cheap).</p>
</div>
<div class="section" id="using-git-bare-repo">
<h3>Using Git Bare Repo<a class="headerlink" href="#using-git-bare-repo" title="Permalink to this headline">¶</a></h3>
<p>You can take advantage of SCVersioning&#8217;s git push retry logic if you go this route.</p>
</div>
</div>
</div>



           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="changelog.html" class="btn btn-neutral float-right" title="Changelog" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="github_pages.html" class="btn btn-neutral" title="GitHub Pages" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, @Robpol86.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: nfsn
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../v2.1.1/index.html">v2.1.1</a></dd>
            <dd><a href="../v2.1.0/index.html">v2.1.0</a></dd>
            <dd><a href="../v2.0.0/index.html">v2.0.0</a></dd>
            <dd><a href="../v1.1.0/index.html">v1.1.0</a></dd>
            <dd><a href="../v1.0.1/index.html">v1.0.1</a></dd>
            <dd><a href="../v1.0.0/index.html">v1.0.0</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="nfsn.html">nfsn</a></dd>
            <dd><a href="../master/index.html">master</a></dd>
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>